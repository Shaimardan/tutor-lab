Этот проект использует Alembic для управления миграциями базы данных. Ниже описаны команды для работы с миграциями.


## Создать новую миграцию

Чтобы создать новую миграцию, используйте следующую команду:

    alembic revision --autogenerate -m "Описание изменений"
Чтобы alembic видел изменения миграции необходимо, чтобы модель была объявлена в [файле](../src/db/__init__.py)

Эта команда автоматически определит изменения в ваших моделях и создаст новую миграцию с указанным описанием в 
директории `\versions`.

## Применить миграции
Для применения всех неоплаченных миграций выполните команду:

   ```alembic upgrade head```
Или запустить скрипт ```cd backend && .\.venv\Scripts\python.exe ./migrations.py```
   

## Откатить миграции
Если необходимо откатиться на одну миграцию ниже, используйте команду:

   ```alembic downgrade -1```
   

## Откат до определенной ревизии
Чтобы откатиться до определенной ревизии, выполните:
```alembic downgrade <ревизия>```
   

## Применить до определенной ревизии
Для применения миграций до определенной ревизии выполните:
```alembic upgrade <ревизия>```
   

## Проверка состояния миграций

Чтобы проверить текущее состояние миграций, воспользуйтесь командой:
```alembic current```
Эта команда покажет текущую примененную миграцию.

## Просмотр истории миграций
Вы можете просмотреть историю всех примененных и незавершенные миграций:
```alembic history```

## Подробнее
Более подробную информацию можно найти по [ссылке](https://alembic.sqlalchemy.org/en/latest/)